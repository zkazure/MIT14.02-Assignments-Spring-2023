#+title: Problem Set 1 Answer

* Question 1: Economic Data
:PROPERTIES:
:header-args:python: :session *gdp* :results output
:END:
#+begin_src python :results none
  import pandas as pd
  import matplotlib.pyplot as plt
  import matplotlib.dates as mdates

  df = pd.read_csv("./data/GDPC1.csv",
                   parse_dates=["observation_date"],
                   index_col=["observation_date"])
#+end_src

** DONE US Real Gross Domestic Product plot
#+begin_src python :results file graphics :exports results :file ./img/GDPC1.png
  x = df.index
  y = df["GDPC1"]

  plt.title("US Real Gross Domestic Product")
  plt.xlabel("")
  plt.ylabel("Billions of Chained 2017 Dollars")
  plt.plot(x, y, label="Real Gross Domestic Product")
  plt.legend()

  ax = plt.gca()
  ax.xaxis.set_major_locator(mdates.YearLocator(5))
  ax.xaxis.set_major_formatter(mdates.DateFormatter('%Y'))
  plt.gcf().autofmt_xdate()

  plt.grid(True)

  plt.savefig("./img/GDPC1.png")
#+end_src

#+RESULTS:
[[file:./img/GDPC1.png]]

** DONE real GDP in the fourth quarter of 2021

#+begin_src python :results output
  q4_2021 = df.loc['2021-10-01', 'GDPC1']
  print(f"2021 Q4 Real GDP: {q4_2021}")
#+end_src

#+RESULTS:
: 2021 Q4 Real GDP: 21988.737

** DONE real GDP fall "from peak to trough" during during the COVID-19 recession

#+begin_src python :results output
  covid = df.loc['2019-01-01':'2020-12-01']
  covid_peak = covid['GDPC1'].max()
  covid_trough = covid['GDPC1'].min()
  covid_drop = covid_peak - covid_trough
  print(f"During Covid")
  print(f"peak: {covid_peak}\ntrough: {covid_trough}\ndrop: {covid_drop:.2f}, {(covid_drop / covid_peak * 100):.2f}%")
#+end_src

#+RESULTS:
: During Covid
: peak: 20985.448
: trough: 19077.992
: drop: 1907.46, 9.09%

** TODO real GDP fall from peak to trough during the Great Recession(2007-2009)
